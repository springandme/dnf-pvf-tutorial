# DNF PVF æ•™ç¨‹é˜…è¯»å™¨

ä¸€ä¸ªç”¨äºå­¦ä¹ å’ŒæŸ¥çœ‹ DNF PVF æ–‡ä»¶ä¿®æ”¹æ•™ç¨‹çš„ Web åº”ç”¨ç¨‹åºã€‚

## ğŸ¯ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº Node.js å’Œ Express çš„ Web åº”ç”¨ï¼Œæä¾›äº†ä¸€ä¸ªå‹å¥½çš„ç•Œé¢æ¥æµè§ˆå’Œå­¦ä¹  DNFï¼ˆåœ°ä¸‹åŸä¸å‹‡å£«ï¼‰PVF æ–‡ä»¶ä¿®æ”¹æ•™ç¨‹ã€‚é¡¹ç›®åŒ…å«äº†ä¸°å¯Œçš„æ•™ç¨‹å†…å®¹ï¼Œæ¶µç›–è£…å¤‡ä¿®æ”¹ã€æ€ªç‰©ä¿®æ”¹ã€æŠ€èƒ½ä¿®æ”¹ç­‰å¤šä¸ªæ–¹é¢ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“š **ä¸°å¯Œçš„æ•™ç¨‹å†…å®¹**: åŒ…å«è£…å¤‡ã€æ€ªç‰©ã€æŠ€èƒ½ã€NPCã€ä»»åŠ¡ç­‰å„ç±»ä¿®æ”¹æ•™ç¨‹
- ğŸŒ **Web ç•Œé¢**: æä¾›ç›´è§‚çš„æ–‡ä»¶æ ‘æµè§ˆå’Œå†…å®¹æŸ¥çœ‹
- ğŸ” **å¿«é€Ÿæœç´¢**: æ”¯æŒæ•™ç¨‹å†…å®¹çš„å¿«é€ŸæŸ¥æ‰¾
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒè®¾å¤‡å±å¹•
- ğŸ’¾ **æœ¬åœ°ç¼“å­˜**: æå‡æµè§ˆä½“éªŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿è®¿é—®

è®¿é—® GitHub Pages éƒ¨ç½²çš„åœ¨çº¿ç‰ˆæœ¬ï¼š
[https://springandme.github.io/dnf-pvf-tutorial/](https://springandme.github.io/dnf-pvf-tutorial/)

### æœ¬åœ°è¿è¡Œ

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/springandme/dnf-pvf-tutorial.git
   cd dnf-pvf-tutorial
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **å¯åŠ¨æœåŠ¡å™¨**
   ```bash
   npm start
   ```

4. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

## ğŸ“ é¡¹ç›®ç»“æ„

```
dnf-pvf-tutorial/
â”œâ”€â”€ pvfCourse/              # æ•™ç¨‹å†…å®¹ç›®å½•
â”‚   â”œâ”€â”€ ã€01ã€‘PVFæ–‡ä»¶è§£è¯»/
â”‚   â”œâ”€â”€ ã€02ã€‘è£…å¤‡ä¿®æ”¹/
â”‚   â”œâ”€â”€ ã€03ã€‘æ€ªç‰©ä¿®æ”¹/
â”‚   â”œâ”€â”€ ã€04ã€‘æŠ€èƒ½ä¿®æ”¹/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ dnf_pvf_tutorial.html   # ä¸»é¡µé¢
â”œâ”€â”€ style.css              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ server.js              # Express æœåŠ¡å™¨
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript
- **éƒ¨ç½²**: GitHub Pages + GitHub Actions
- **å®¹å™¨åŒ–**: Docker (å¯é€‰)

## ğŸ“– æ•™ç¨‹å†…å®¹

é¡¹ç›®åŒ…å«ä»¥ä¸‹ä¸»è¦æ•™ç¨‹åˆ†ç±»ï¼š

1. **PVFæ–‡ä»¶è§£è¯»** - åŸºç¡€çŸ¥è¯†å’Œæ–‡ä»¶ç»“æ„
2. **è£…å¤‡ä¿®æ”¹** - æ­¦å™¨ã€é˜²å…·ã€é¥°å“ç­‰è£…å¤‡ç›¸å…³ä¿®æ”¹
3. **æ€ªç‰©ä¿®æ”¹** - æ€ªç‰©å±æ€§ã€AIã€æ‰è½ç­‰ä¿®æ”¹
4. **æŠ€èƒ½ä¿®æ”¹** - èŒä¸šæŠ€èƒ½ã€æ•ˆæœã€ä¼¤å®³ç­‰ä¿®æ”¹
5. **NPCä¿®æ”¹** - å•†åº—ã€å¯¹è¯ã€ä»»åŠ¡NPCç­‰ä¿®æ”¹
6. **ä»»åŠ¡ä¿®æ”¹** - ä»»åŠ¡æµç¨‹ã€å¥–åŠ±ã€æ¡ä»¶ç­‰ä¿®æ”¹
7. **åœ°å›¾ä¿®æ”¹** - åœ°å›¾å±æ€§ã€ä¼ é€ã€èƒŒæ™¯ç­‰ä¿®æ”¹
8. **æ—¶è£…ä¿®æ”¹** - å¤–è§‚ã€å±æ€§ã€ç‰¹æ•ˆç­‰ä¿®æ”¹
9. **ç‰©å“ä¿®æ”¹** - é“å…·ã€ææ–™ã€æ¶ˆè€—å“ç­‰ä¿®æ”¹
10. **é«˜çº§æ•™ç¨‹** - è¿›é˜¶æŠ€å·§å’Œå¤æ‚ä¿®æ”¹

## ğŸ”§ å¼€å‘

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# ä»£ç æ£€æŸ¥ï¼ˆå¦‚æœé…ç½®äº† ESLintï¼‰
npm run lint

# è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰æµ‹è¯•ï¼‰
npm test
```

### Docker éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ docker-composeï¼ˆæ¨èï¼‰

**å¿«é€Ÿéƒ¨ç½²**ï¼š
```bash
# ä½¿ç”¨ç®€åŒ–é…ç½®å¿«é€Ÿå¯åŠ¨
docker-compose -f docker-compose.simple.yml up -d

# è®¿é—®åº”ç”¨
# http://localhost:7210 (è‡ªåŠ¨é‡å®šå‘åˆ°é¦–é¡µ)
```

**å®Œæ•´éƒ¨ç½²**ï¼š
```bash
# ä½¿ç”¨å®Œæ•´é…ç½®å¯åŠ¨ï¼ˆåŒ…å«å¥åº·æ£€æŸ¥ã€èµ„æºé™åˆ¶ç­‰ï¼‰
docker-compose up -d

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f dnf-pvf-tutorial

# åœæ­¢æœåŠ¡
docker-compose down
```

#### æ–¹å¼äºŒï¼šç›´æ¥ä½¿ç”¨ Docker

```bash
# ä½¿ç”¨é¢„æ„å»ºé•œåƒ
docker run -d \
  --name dnf-pvf-tutorial \
  -p 7210:3000 \
  -v $(pwd)/pvfCourse:/app/pvfCourse:ro \
  --restart unless-stopped \
  ghcr.io/springandme/dnf-pvf-tutorial:latest

# æˆ–è€…æœ¬åœ°æ„å»ºé•œåƒ
docker build -t dnf-pvf-tutorial .
docker run -d \
  --name dnf-pvf-tutorial \
  -p 7210:3000 \
  -v $(pwd)/pvfCourse:/app/pvfCourse:ro \
  --restart unless-stopped \
  dnf-pvf-tutorial
```

#### æ•°æ®å·æŒ‚è½½è¯´æ˜

ä¸ºäº†æ”¯æŒè¯¾ç¨‹æ•°æ®çš„çƒ­æ›´æ–°ï¼Œå»ºè®®ä½¿ç”¨æ•°æ®å·æŒ‚è½½ï¼š

```yaml
volumes:
  # åªè¯»æŒ‚è½½è¯¾ç¨‹æ•°æ®ç›®å½•
  - ./pvfCourse:/app/pvfCourse:ro
  # å¯é€‰ï¼šæŒ‚è½½æ—¥å¿—ç›®å½•
  - ./logs:/app/logs
```

**ç›®å½•ç»“æ„è¦æ±‚**ï¼š
```
éƒ¨ç½²ç›®å½•/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ pvfCourse/              # è¯¾ç¨‹æ•°æ®ç›®å½•ï¼ˆå¿…éœ€ï¼‰
â”‚   â”œâ”€â”€ ã€01ã€‘PVFæ–‡ä»¶è§£è¯»/
â”‚   â”œâ”€â”€ ã€02ã€‘è£…å¤‡ä¿®æ”¹/
â”‚   â””â”€â”€ ...
â””â”€â”€ logs/                   # æ—¥å¿—ç›®å½•ï¼ˆå¯é€‰ï¼‰
```

#### è®¿é—®æ–¹å¼

- **ä¸»é¡µè®¿é—®**: `http://your-domain:7210` ï¼ˆè‡ªåŠ¨é‡å®šå‘åˆ°æ•™ç¨‹é¦–é¡µï¼‰
- **ç›´æ¥è®¿é—®**: `http://your-domain:7210/dnf_pvf_tutorial.html`
- **API æ¥å£**: `http://your-domain:7210/api/files`

## ğŸš€ éƒ¨ç½²

### GitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½²

é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼š

- **GitHub Pages**: è‡ªåŠ¨éƒ¨ç½²é™æ€ç‰ˆæœ¬
- **Docker**: è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ Docker é•œåƒåˆ° GHCR

æ¯æ¬¡æ¨é€åˆ° `master` åˆ†æ”¯æ—¶ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²æµç¨‹ã€‚

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨ Docker Compose éƒ¨ç½²åˆ°æœåŠ¡å™¨

1. **å‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒ**ï¼š
   ```bash
   # å®‰è£… Docker å’Œ Docker Compose
   curl -fsSL https://get.docker.com -o get-docker.sh
   sh get-docker.sh
   sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
   sudo chmod +x /usr/local/bin/docker-compose
   ```

2. **éƒ¨ç½²åº”ç”¨**ï¼š
   ```bash
   # åˆ›å»ºéƒ¨ç½²ç›®å½•
   mkdir -p /opt/dnf-pvf-tutorial
   cd /opt/dnf-pvf-tutorial

   # ä¸‹è½½é…ç½®æ–‡ä»¶
   wget https://raw.githubusercontent.com/springandme/dnf-pvf-tutorial/master/docker-compose.simple.yml

   # ä¸‹è½½æˆ–åŒæ­¥è¯¾ç¨‹æ•°æ®
   git clone https://github.com/springandme/dnf-pvf-tutorial.git temp
   cp -r temp/pvfCourse ./
   rm -rf temp

   # å¯åŠ¨æœåŠ¡
   docker-compose -f docker-compose.simple.yml up -d
   ```

3. **é…ç½®åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰**ï¼š
   ```nginx
   # Nginx é…ç½®ç¤ºä¾‹
   server {
       listen 80;
       server_name your-domain.com;

       location / {
           proxy_pass http://localhost:7210;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
           proxy_set_header X-Forwarded-Proto $scheme;
       }
   }
   ```

#### æ›´æ–°è¯¾ç¨‹æ•°æ®

ç”±äºä½¿ç”¨äº†æ•°æ®å·æŒ‚è½½ï¼Œæ›´æ–°è¯¾ç¨‹æ•°æ®æ— éœ€é‡å¯å®¹å™¨ï¼š

```bash
# æ–¹å¼ä¸€ï¼šç›´æ¥æ›¿æ¢æ–‡ä»¶
cd /opt/dnf-pvf-tutorial
# æ›´æ–° pvfCourse ç›®å½•ä¸­çš„æ–‡ä»¶

# æ–¹å¼äºŒï¼šä½¿ç”¨ Git åŒæ­¥
git clone https://github.com/springandme/dnf-pvf-tutorial.git temp
rsync -av --delete temp/pvfCourse/ ./pvfCourse/
rm -rf temp

# éªŒè¯æ›´æ–°
curl http://localhost:7210/api/files
```

## ğŸ”§ æ•…éšœæ’é™¤

### Docker éƒ¨ç½²å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**ï¼š
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep 7210
   # æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
   docker-compose up -d --scale dnf-pvf-tutorial=0
   # ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
   ```

2. **æƒé™é—®é¢˜**ï¼š
   ```bash
   # ç¡®ä¿æ•°æ®ç›®å½•æƒé™æ­£ç¡®
   sudo chown -R 1000:1000 ./pvfCourse
   chmod -R 755 ./pvfCourse
   ```

3. **å®¹å™¨æ— æ³•å¯åŠ¨**ï¼š
   ```bash
   # æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   docker-compose logs dnf-pvf-tutorial

   # æ£€æŸ¥å®¹å™¨çŠ¶æ€
   docker-compose ps

   # é‡æ–°æ„å»ºé•œåƒ
   docker-compose build --no-cache
   ```

4. **æ•°æ®å·æŒ‚è½½å¤±è´¥**ï¼š
   ```bash
   # æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®
   ls -la ./pvfCourse

   # ä½¿ç”¨ç»å¯¹è·¯å¾„
   volumes:
     - /absolute/path/to/pvfCourse:/app/pvfCourse:ro
   ```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **èµ„æºé™åˆ¶**ï¼šæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ `docker-compose.yml` ä¸­çš„èµ„æºé™åˆ¶
2. **ç¼“å­˜ç­–ç•¥**ï¼šå¯ç”¨æµè§ˆå™¨ç¼“å­˜å’Œ CDN
3. **æ—¥å¿—ç®¡ç†**ï¼šå®šæœŸæ¸…ç†å®¹å™¨æ—¥å¿—
   ```bash
   # æ¸…ç†æ—¥å¿—
   docker system prune -f

   # é™åˆ¶æ—¥å¿—å¤§å°
   logging:
     driver: "json-file"
     options:
       max-size: "10m"
       max-file: "3"
   ```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç å’Œæ•™ç¨‹å†…å®¹ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/springandme/dnf-pvf-tutorial/issues)
- é¡¹ç›®ä¸»é¡µ: [GitHub Repository](https://github.com/springandme/dnf-pvf-tutorial)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º DNF PVF ä¿®æ”¹æ•™ç¨‹è´¡çŒ®å†…å®¹çš„ä½œè€…å’Œç¤¾åŒºæˆå‘˜ã€‚
