{
    "content": "<p>By：leisiyi</p>\n\n<p>http://tieba.baidu.com/p/4560285530</p>\n\n<p><br />\n由于黑岩3.0已经发布，而团队也解散了，想起曾经一起研究，一起玩耍的日子，确实很欢乐。根据大神key留下来的良好习惯，加上tao也已发了某些教程。所以顺势就把一些小教程或者心得体会发出来吧。</p>\n\n<p>此次内容是地图副本dgn以及map详解。</p>\n\n<p>俺是黑岩团队的小绵羊。请叫我小绵羊。<br />\n其实一直以来有一点想不通，前期的时候居然没几个人是捣鼓地图和怪物的，后期才慢慢多了起来。</p>\n\n<p>1、dgn文件。<br />\nDgn可以理解为副本的总成，里面包含了一个副本的大致信息。如名字，难度，走向，模式，限制等等等等。拿巨龙的chn_dragon_dungeon_03_time.dgn举例。<br />\n文件内容我就不贴出来了，有心的可以自己找到。</p>\n\n<p>首先是[background pos]代码，此代码的大致意思是，调整原背景图片的像素，多数为80.。</p>\n\n<p>[name]和[explain]随便看看都能懂了，副本的名字以及描述。</p>\n\n<p>[entering title]具体作用不知，可查看ani指向是哪个img，可有可无。</p>\n\n<p>[cutscene image]进图界面。</p>\n\n<p>[minimap image]小地图界面。</p>\n\n<p>[worldmap pattern info]某图片，可查看img指向哪个文件。</p>\n\n<p>[experience increasing point]似乎是经验增加倍数。</p>\n\n<p>[champion]不明。</p>\n\n<p>好了，以上都是些不怎么重要的内容，以下是常用的。</p>\n\n<p>[limit party count]没记错的话好像是进入次数限制吧</p>\n\n<p>[prohibit practice]禁止练习模式，参数为1</p>\n\n<p>[required item]进图所需物品</p>\n\n<p>[designate dungeon difficulty]难度设定，参数为123，对应简易、普通、困难，有没有王者忘了。</p>\n\n<p>[recommended level]推荐进入等级。</p>\n\n<p>[minimum required level]进入最低等级需求。</p>\n\n<p>[basis level]副本基础等级，一般此参数设置成多少，怪物就会变成多少级。</p>\n\n<p>[pathgate object]很多人都不知道副本中的门到底在哪，这是让我比较郁闷的。此代码就是副本中的门，其实是obj指向，真正的门ani在obj中。一般为10个数据，每个数据代表着一个门，-1代表没有门。</p>\n\n<p>[maze info]翻译过来就是迷宫信息，说白了就是地图走势。</p>\n\n<p>[size]副本大小，先是横向，再是纵向。</p>\n\n<p>[greed]至于这个，很久之前就有人发过了，每个房间的方向，至于代码含义，自行搜索吧。</p>\n\n<p>[map specification]地图位置与指向。前两个为坐标，最后一个一般为map编号，可忽略不写。</p>\n\n<p>[start map]起始地图，编号可忽略。</p>\n\n<p>[boss map]领主地图，编号可忽略。</p>\n\n<p>以上三个map参数均可定义多个map指向。</p>\n\n<p>好了，dgn基本参数都已经讲完了。接下来是map的。</p>\n\n<p>2、map文件。<br />\nMap文件分为两种，一种为副本，一种为城镇。<br />\n首先是副本map，需添加lst。城镇则不用。<br />\n只选择一些重要参数讲解。</p>\n\n<p>[pvp start area]特殊地图人物起始坐标。如塔或者pkc。</p>\n\n<p>[dungeon]dgn编号指向。</p>\n\n<p>[type]副本类型，一般为normal或boss。</p>\n\n<p>[greed]房间方向，与dgn中的greed对应。</p>\n\n<p>[tile]与[extended tile]均为房间地板。</p>\n\n<p>[far sight scroll]、[middle sightscroll]、[near sight scroll]就勉强翻译为背景移动速度吧，分别是远中近。</p>\n\n<p>[background animation]背景ani。<br />\n这个参数中包含的了背景的ani信息，其格式一般分为远中近三种。<br />\n第一种为远处的背景distantback，第二种为中间的背景middleback，还有一种就是近处的，英文没找到。其格式基本一致。文件名，层别，顺序三个参数。</p>\n\n<p>[pathgate pos]副本之间传送口的坐标值，4个为一组，共两组，无传送则为0。</p>\n\n<p>[dungeon start area]副本人物起始坐标值。4个数值组成。</p>\n\n<p>[animation]房间中的一些装饰物。其格式一般为文件路径，参数，坐标值，特殊值。</p>\n\n<p>[passive object]obj指向。4个为一组，其格式为obj编号，坐标值，特殊值。某些值可省略。</p>\n\n<p>[monster]怪物。其格式为怪物编号，两个特殊值，坐标，3个特殊值，后加两个参数。<br />\n这里所说的特殊值，一般为空中，不可移动，横向移动，纵向移动，坠落，不可攻击等等，具体数值自行测试。</p>\n\n<p>[monster specific AI]怪物ai。理论上均为normal。</p>\n\n<p>[special passive object]特殊obj。一般指物品掉落。</p>\n\n<p>哎呀，我去。累死了。吐槽一下笔记本的键盘真的是有点不好按。先写到这里吧。有空再更新，参数都讲解到这个地步了，还是不能理解的话只能说你没有用心啦。</p>\n\n<p>再来稍微讲一下添加副本的基本思路，虽然我知道已经有无数人会添加了。</p>\n\n<p>首先是定义一个dgn，接着写dgn中包含的map，注意编号要对应。然后在worldmap文件夹中对应的wdm添加dgn编号，最后写ui接口。</p>\n\n<p>至于城镇的添加以及各参数，下次更新。时间有多余再来个怪物教程，雅蠛蝶。</p>\n\n<p>最后感慨一下，正所谓长江后浪推前浪，旧的不去新的不来，先人种树后人乘凉巴拉巴拉巴拉巴拉。。。。。。。。还有tool群里的各种一条龙真的是让人瞠目结舌。。。。。。。。巴拉巴拉巴拉巴拉。。。。。。。</p>\n\n<p>最后的最后，抽支黄鹤楼平复一下心情，继续探讨人生。</p>\n\n<p>&nbsp;</p>",
    "auth_users": "学院搬运工",
    "img": "https://dafstatic.oss-cn-beijing.aliyuncs.com/static/title/level4.gif",
    "create_at": "2023-05-08T21:57:01.035",
    "view_num": 1438
}