{
    "content": "<pre>\n<code>【副本接口.wdm】 和 【副本接口UI.ui】\n \n[map image]//不知道是啥,改了没效果\n    `WorldMap/Lorien.img`   0\n \n[ui path]\n    `WorldMap/UI/Lorien.ui`\nui路径\n \n[dungeon]  副本接口所包含的副本，两个数一组\n    1   -1  \n    2   -1  \n    1500    428 \n    1501    4340    \n[/dungeon]\n第一个数是副本编号\n第二个数是前置任务编号，-1表示不需要前置任务可直接进入\n    503\n    [in progress]\n        7894\n上述三行第一个数副本编号，第二个数是正在进行的任务，效果为正在进行任务时才显示副本\n \n[name]\n    `洛藍`\n     \n \n[hell dungeon]\n    1\n//此副本接口可以开启深渊，不写就开不了//这里的开启深渊.其实就是你在进入这个副本接口时,挑战深渊派对那个按钮是否能点亮,实际开启深渊需要改副本\n \n[hell quest]\n    2610\n[/hell quest]\n开启深渊所需要的前置任务，不写就没有条件直接开启,就是完成任务才能点亮按钮\n \n[hell freepass item]  自定义进入副本深渊的门票（低级深渊需要）\n    8272    1   \n    8376    1   \n    8247    1   \n[/hell freepass item]\n两个数一组，第一个数物品代码，第二个数物品数量\n如果背包只有一个该物品，但需求需要两个，那么进入深渊将不消耗门票也可以进入\n \n[item condition]  进入深渊时的默认门票（深渊派对邀请函），低级深渊无法适用\n    3330\n[/item condition]\n \n \n \nui:\n \n[ui controls]  副本接口的背景图\n    `[image]`\n    `IDC_WORLDMAP_BACKGROUND`   0   0   1  第一二个数代表背景图xy坐标，第三个数代表是否开启，0关闭\n    `WorldMap/Lorien.img`   1   0  第一个数代表使用一张图片，第二个表示第0帧\n[/ui controls]\n \n[ui controls]\n    `[image]`  这种用不到不用管\n    `IDC_WORLDMAP_EXERCISE_MODE_BACKGROUND` 0   0   1\n    `Interface2/DungeonExercise/DungeonExercise.img`    3   0   0   0\n    [common action]\n        `Action/background_event.act`\n[/ui controls]\n \n[ui controls]\n    `[balloon]`  按钮类型\n    `IDC_WORLDMAP_BUTTON2`  367 211 1    按钮2。不同按钮必须排序，不能重复。第一个数第二个数是按钮的xy坐标（副本图下面那个小圆点），第三个数表是是否开启\n    `WorldMap/selectdungeon02.img`  3   1   13  2  第三个数为副本朝向，第四个数为该按钮对应副本编号\n    [common action]\n        `Action/worldmap_balloon.act`\n[/ui controls]\n \n \n【副本文件.dgn】\n \n[background pos]\n    80\n \n[entering title]  进入副本时弹出的文字动画，例如根特外围，暗黑雷鸣废墟\n    `Title/OuterGent.ani`\n \n[cutscene image]  进入副本时，背景贴图，数字代表此img的第几帧\n    `Map/CutScene/GentEastGate.img` 0\n \n[minimap image]  进入副本后右上角小地图，小房间的路径的显示图片\n    `Map/MiniMap/Act6.img`\n \n[worldmap pattern info]  选择副本时，副本的图片\n    1   1  坐标偏移，一般不用改\n    `WorldMap/SelectdungeonSlot/gent.img`   0  使用此img的第0帧\n \n[minimum required level]  副本进入等级\n    55\n \n[basis level]  副本内掉落物品的等级，58可以掉落58级左右的装备，写1就只掉落1级左右的装备,此等级对应装备的[grade]这个标签的等级\n    58\n \n[experience increasing point]  副本获得的经验的倍率\n    1.0\n \n//复活币限制\n[coin limit]\n1   \n[party member coin limit]\n1   \n \n//进入所需门票 物品代码-数量-数量\n[required item]\n    4473    1   1\n \n \n[champion]  给予副本内怪物随机的异常状态加成，比如有些怪物名字上方显示某某抗性增加，某某属性增加，这免疫那免疫等等\n    6   12  18  24  26  五个数对应五个难度，但台服只有四个难度，所以只有前面四个有效，数值最大为100，数值越高，怪物获得的异常状态就越多越变态\n \n \n \n[special passive object item]  map文件内的特殊特效指定的掉落物品，参考天空之城内悬空城内的珊瑚草，打碎可以爆天空之城药剂\n    0   -1  3   1048    1500    1049    1500    3023    100\n    1   -1  3   3123    1000    3124    1000    3125    1000\n    2   -1  1   3170    8000\n    3   -1  4   1048    1500    1049    1500    3021    100 3022    100\n    4   -1  3   1048    1500    1049    1500    3019    100\n    5   -1  1   3128    500\n    6   -1  4   1048    1500    1049    1500    1007    2400    3020    100\n    7   -1  0\n[/special passive object item]\n第一个数用来分组，按01234567这样分组\n第二个数不用管，不动它\n第三个数代表有三个特效，然后每两个数一组，第一个是物品代码，第二个是掉落几率，几率最大是10000（具体需要看map文件内与其对应的代码）\n \n \n比如从map文件复制一段相同的代码写法如下（仔细看怎么分组）\n[special passive object]\n    800  特效编号\n    447 205 0  特效的xyz坐标\n    1  使用一个这样的特效\n    `[item]`  掉落的道具类型//也可以写怪物类型,打爆就爆怪物出来\n    2   1   5   -1  -1  后面四个数不用管，第一个2的意思是对应上面副本文件内这类写法的第二组\n    1032    840 205 0   0\n    300 945 205 0   1   `[item]`    0   1   -1  -1  -1\n    779 683 239 0   2   `[trap]`    2210    1   1   10  -1  `[trap]`    2211    1   1   10  -1\n    1027    1040    253 0   0\n    1027    509 253 0   0\n    300 1266    259 0   1   `[item]`    0   1   -1  -1  -1\n    779 1326    259 0   2   `[trap]`    2511    1   1   5   -1  `[trap]`    2611    1   1   5   -1\n    300 993 292 0   1   `[item]`    0   1   -1  -1  -1\n    1032    969 307 0   0\n    800 453 313 0   1   `[item]`    1   1   5   -1  -1\n[/special passive object]\n \n \n \n[pathgate object]  路径门的特效，如果不写这个，那么副本里面就没有门，那么就去不了下一个房间//就用默认的不要乱改\n    5520    5521    5522    5523    5524    5525    5526    5527    5528    5529\n \n[maze info]  地图范围信息\n \n[size]  大小5x5，意思就是这是一个5x5的地图，有25个房间，分x，y坐标，从（0，0）开始数，也就是下面的从JJ到GG就是从（0，0）到（4，4）//同时副本右上角的小地图的大小也就是写的这个大小\n    5   5\n \n[greed]  房间位置及房间路径的走向\n    `JJNNEEAAAA\n KKKKAAAAAA\n CCDDFFMMII\n AAAAAAKKKK\n AAAABBHHGG`\nAA无法通过 BB右 CC上 DD右上 EE左 FF左右 GG左上\nHH左上右 II下 JJ右下 KK上下 LL上下右 MM左下 NN左下右\nPP十字\n意思就是右上角的小房间地图，比如有个房间写成pp，那么这个房间上下左右都有门，能进入周围任何一个房间\n \n[map specification]  地图信息，作用是用于指定某个坐标的房间必定是一个固定的房间，而不是随机房间\n    0   1  所在房间的xy坐标，比如这个0，1那么就对应上面房间的KK房间\n    10059  房间map的编号，写了编号那么这个坐标的房间只会是这个编号的房间，如果没写，那么这个房间就可能随机，写两个就两个房间随机一个\n[/map specification]\n \n[map specification]\n    1   1   10053\n[/map specification]\n \n[map specification]  \n    3   3   10054\n[/map specification]\n \n[map specification]\n    4   3   10060\n[/map specification]\n \n[start map]  人物初始的房间//也可以写多个开始房间随机,跟boss房随机一样的道理\n    2   2\n[/start map]\n \n[boss map]  boss房间，写了两个坐标，那么就会随机出现在这两个坐标房间的其中一个\n    0   2   4   2\n[/boss map]\n \n深渊信息，这一整段都是\n[hell dungeon]  是否开启深渊，1开启0关闭，如果写0，那么在选择副本时，点击开启深渊挑战模式，这个副本就会看不见\n    1\n \n[seal door map index]  深渊的房间编号\n    60034\n \n[seal door pos]  深渊所在的房间位置\n    3   3\n \n[hit count]  可能是五个难度对应柱子被击次数开启深渊，一般不改\n    50  50  50  50  50\n \n[seal door appear rate]  这个也不改\n    10\n深渊信息，这一整段都是\n \n[event monster]  活动怪物，不用管，没活动改了也没用 删掉也没事\n    1   10000   61728   1   300 80  1\n[/event monster]\n \n \n【副本房间文件.map】\n \n[player number]\n    2   8\n \n[pvp start area]\n    0   0   0   0   0   0   0   0   0   0   0   0\n作为决斗地图时的开启区域 一般不管\n \n[dungeon]  意思是这个房间的map文件只属于编号为32的这个副本，如果在其他编号的副本中调用了这个map，就会出现bug，可能闪退也可能是进不去房间跑不了五国等\n    32\n[/dungeon]\n如果副本信息内什么房间信息都没有，那么如何提取该副本的map文件？答案是用正则搜索上述代码，因为只要是这个副本的map文件，那么map文件内必定会写指向该副本的代码,就能找出这个编号的副本所有属于它的地图文件了\n \n[type]  房间类型\n    `[normal]`  正常房间，有三种\n    `[boss]`  boss房间\n    `[dummy]`  虚假boss房间，即使击杀了这个类型房间内的boss，也可以正常进入其它房间，参考老鼠图\n \n[greed]  意思是这个房间，既可以随机出现在FF房间内，也可以随机在EE内，前提是随机到的FF,EE坐标的房间没有在副本文件内被固定房间编号\n    `FF EE`\n \n[tile]  副本调用的地板，详情参考城镇map文件写法\n    `Tile/underdown.til`\n    `Tile/underup.til`\n    `Tile/undermid.til`\n    `Tile/underup.til`\n    `Tile/overlefthighblank.til`\n    `Tile/overnoblankmid.til`\n    `Tile/overnoblankdown.til`\n    `Tile/overnoblankmid.til`\n[/tile]\n \n[pathgate pos]  当前房间的门的坐标，两个数一组，分别是门的xy坐标\n    12  237  左边的门\n    1782    230  右边的门\n    784 184  上面的门\n    848 274  下面的门\n固定的第一组到第四组数对应左右上下门\n \n[sound]  背景声音，详情参考城镇\n    `R_AMB_CAVE`\n    `M_SPIDER`\n[/sound]\n \n[monster]  该房间的怪物或者apc\n    400  怪物编号\n    1   0  怪物等级写成   1   0那么怪物等级就与副本文件内怪物等级一致，   1   10意思就是在副本文件内怪物等级的基础上加10级，   0   60意思就是无视副本文件内怪物等级，自定义一个怪物等级这里是60级\n    1254    159 0  怪物所在这个房间内的xyz坐标\n    1   1   `[fixed]`这两个1可能是怪物的出场方式，一般不要管它\n    `[boss]`      怪物类型\n \n \n        400 1   0   1254    159 0   1   1   `[fixed]`   `[boss]`      boss怪物\n    405 1   0   1431    167 0   1   1   `[fixed]`   `[normal]`    普通怪物\n    405 1   0   1431    167 0   1   1   `[fixed]`   `[champion]`    0  这种怪物类型指定这个怪物必定是异常怪物，写0说明不是异常怪物，超过0就是，最高100，越高越变态\n[/monster]\n \n \n[monster specific AI]  怪物的ai，有几个怪物写几个ai//不写ai就默认按副本难度调用ai\n    `[normal]`\n    `[normal]`\n    `[normal]`\n    `[normal]`\n[/monster specific AI]\n \n[special passive object]  房间内的特殊特效\n    803  obj代码\n    1349    203 0  这个特效的xyz坐标\n    1  使用一个这样的特效\n    `[item]`    2   -1  3   -1  -1//第一个2对应副本文件[special passive object item]的第二组\n \n    815  obj代码\n    1000    229 0  xyz坐标\n    2  使用两个特效\n    `[trap]`    48019   26  1   5   -1  //第一个\n    `[trap]`    2000    8   1   5   -1  //第二个\n \n[/special passive object]\n这样分组，[trap]意思是打爆这个特效会出现另一个特效\n[item]则是打爆这个特效，则会掉落一个物品,[item]改成[monster]则打爆掉落一个怪物出来\n \n \n \n【给没有深渊的副本增加深渊】\n1给没有深渊的副本加深渊:\n1:去对应的副本接口中开启深渊(副本接口:进入一个区域，出现一个覆盖游戏全屏的背景，并且显示一些可进入的副本。)\n2:还需要去副本文件dgn、里面去开启深渊、并且设置深渊的map(地图)编号。\n3:对应的深渊map文件中设置深渊柱子，以及出现的深渊小队编号(etc文件)\n扩展,可改可不改\n4: etc文件增加或更改原有小队中的出现apc或者怪物\n \n \n【深渊房间】\n \n[special passive object]  特殊特效\n    30519  深渊柱子的编号\n    405 448 0  在房间里的坐标\n    1  使用一个也可能是开启的意思，写1不要改\n \n    `[hellparty]`  每三个数一组\n    125 25  1  第一个数字是派对编号，第三个数字是第1波的意思\n    126 25  1\n    127 25  1\n    128 25  1\n \n    13  20  1  第一波出现的怪物，这个由深渊难度控制，在etc文件里看A类型是非常困难，B类型是困难\n    51  20  1\n    58  20  1\n    59  20  1\n    60  20  1\n    61  20  1\n    62  20  1\n \n    52  20  2  第二波出现的apc，在etc文件里看，类型0是怪物，类型1是apc\n    63  20  2\n    `[/hellparty]`\n[/special passive object]\n \n \n \n深渊派对文件路径etc/hellparty.etc\n \n[hellparty monster group]//深渊派对\n    [group index]\n        35//小队编号\n    [group]\n        `A` 30003   1   30003   1   30003   1   30003   1   30003   1\n    [/group]//小队任务,A为难度,两个数一组,第一个数代表apc编号,第二个数代表生成数量\n[/hellparty monster group]</code></pre>\n\n<p>&nbsp;</p>",
    "auth_users": "学院搬运工",
    "img": "https://dafstatic.oss-cn-beijing.aliyuncs.com/static/title/level4.gif",
    "create_at": "2023-07-04T19:12:33.691",
    "view_num": 1711
}