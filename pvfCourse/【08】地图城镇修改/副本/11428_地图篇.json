{
    "content": "<p>BY:轮回几多忆乌山</p>\n\n<p>&lt;http://tieba.baidu.com/p/4068024161&gt;<br />\n&nbsp;<br />\n&nbsp;<br />\n&nbsp;<br />\n&nbsp; 接下来谈谈地图，首先给出方法，然后我再来分析。<br />\n修改方法：打开worldmap这个文件夹（这里，我说下，我在这帖子里多次提到了各种文件夹，这些都是用Decrypt.exe这个工具解压的，解压有几十万个文件，所以需要的时间很长）<br />\n看到很多WDM文件，以TOWER.WDM这个文件为例，打开后在[dungeon] 下添加相应的地下城代码，在地下城代码后打上-1，再加个空格，这样你就成功在死亡之塔那里添加了一个地下城。至于地下城的代码，我已经提过很多次LST文件了，以后不想赘述。<br />\n接着打开worldmap目录下的ui文件夹，依然是找到towe.ui,添加代码<br />\n[ui controls]<br />\n&#39;[balloon]&#39; &#39;IDC_WORLDMAP_BUTTON11&#39; 267 220 1 &#39;WorldMap/selectdungeon02.img&#39; 3 1 14 206<br />\n[common action]<br />\n&#39;Action/worldmap_balloon.act&#39;<br />\n[/ui controls]<br />\n这里的206表示地下城代码，267 220 为坐标，就是那个选图时各个地下城所处的位置，BUTTON后的11是按钮编号，最好接着之前的BUTTON代码，比如说之前是BUTTON10，就添加BUTTON11。我没试过乱写按钮编号，所以乱写行不行我不知道，总之最好这样写<br />\n&nbsp;<br />\n轮回几多忆乌山: 补充，我提到的所有文件都可以用记事本或者NOTEPAD++打开，不涉及到中文的用记事本就可以，涉及到中文名的因为有乱码，所以可以用NOTEPAD++打开，在格式里选择中文，BIG5<br />\n&nbsp;<img alt=\"\" height=\"426\" src=\"/media/uploads/2023/05/08/image-20230508213705-1.png\" width=\"564\" /></p>\n\n<p>这里，我们可以看到所有的魂图都可以修改出，（顺便这张图不是死亡之塔，是时空之门那里截图的，死亡之塔那里我没有新截图，就不放了）只要修改worldmap里的文件就可以实现这些。当然这是有前提的，因为魂图的代码都已经在dungeon.lst里存在了<br />\n&nbsp;<br />\n接下来讲时空之门和发电站，其实道理和上面一样，不同之处在于dungeon.lst没有相应的地下城代码，因此只要我们在那里添加相应的地下城代码就可以了<br />\n&nbsp;<br />\n&nbsp;<br />\n收起回复举报|15楼2015-09-27 14:41<br />\n&nbsp;<br />\n轮回几多忆乌山: 补充，时空之门和发电站的等级限制都要修改，文件在dungeon里，代码是minimum require level，表示进入地下城的最低等级<br />\n2015-9-27 18:55回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 发现自己还漏说了一点。。。map.lst里要添加相应的地图才可以<br />\n&nbsp;<br />\n&nbsp;<img alt=\"\" height=\"118\" src=\"/media/uploads/2023/05/08/image-20230508213713-2.png\" width=\"324\" /><br />\n&nbsp;</p>\n\n<p>&nbsp;</p>\n\n<p>按照樓主的修改完了 進圖的時候提示這個<br />\n&nbsp;<br />\n轮回几多忆乌山: 你得确认map，twn的限制是不是都删除了，还有twn.lst里有没有加入城镇代码。我等会儿上传文件，自己对着看吧<br />\n2015-9-27 16:45回复<br />\n&nbsp;<br />\nkiss傻瓜水: 回复 轮回几多忆乌山 :[limit level] 這個要刪除？<br />\n2015-9-27 16:47回复<br />\n&nbsp;<br />\nkiss傻瓜水: 回复 轮回几多忆乌山 :need quest 這些都刪了<br />\n2015-9-27 16:48回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 kiss傻瓜水 :如果是70就不用删，关键是看等级是不是高于你目前的等级<br />\n2015-9-27 17:02回复<br />\n&nbsp;<br />\nkiss傻瓜水: 回复 轮回几多忆乌山 :是有幾個文件沒有修改 除了你說的還有幾個文件 我按照你發的修改了 就可以進圖了 - -。<br />\n2015-9-27 17:25回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 kiss傻瓜水 :确实有些说漏了，已经补充了，而且你得联系在一起看才行<br />\n&nbsp;<br />\n&nbsp;<br />\n城镇篇：<br />\n我们发现时空之门，发电站的那些城镇并没有开放，就是下图的这些。接下来我们来实现这些<br />\n<img alt=\"\" height=\"300\" src=\"/media/uploads/2023/05/08/image-20230508213721-3.png\" width=\"562\" /></p>\n\n<p>&nbsp;<img alt=\"\" height=\"427\" src=\"/media/uploads/2023/05/08/image-20230508213728-4.png\" width=\"569\" /><br />\n&nbsp;<br />\n因为是城镇，所以打开TOWN文件夹，在这个文件夹里可以看到timegate,powerstation,时空之门，发电站，这些都是基本的英语翻译，我们在研究这些文件的时候，只要想想这些文件的英语意思就可以了。<br />\n打开timegate.twn，删除<br />\n[need quest]<br />\n4117<br />\n[/need quest]<br />\n这样就去掉了这个城镇的限制，等于是解锁了这个城镇。need quest意思为需要的任务，因为我们无法完成编号为4117的这个任务，自然无法开启这个城镇。下面还有个[need level]，表示等级限制<br />\n&nbsp;<br />\n&nbsp;<br />\n收起回复举报|22楼2015-09-27 15:01<br />\n&nbsp;<br />\n轮回几多忆乌山: 补充，城镇篇和上面的地图篇要连起来看，都是有关联的，都看懂了才行，要不然容易出问题<br />\n2015-9-27 18:57回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 总之涉及到dungeon.lst，dgn文件，wdm文件和worldmap里的ui文件，town.lst，twn文件，map文件，npc文件<br />\n2015-9-27 19:00回复<br />\n&nbsp;<br />\nshowphama: 回复 轮回几多忆乌山 :我修改.list文件总是写入不成功 提示bin重新写入 我重新写入就会成功 但是服务端开不起来，是什么原因呀 我有NOte+++那个编辑的<br />\n2015-10-1 05:11回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 showphama :修改lst文件确实需要重新写入bin文件，我成功时的情况是这样的，先写入lst文件，提示成功，然后再写入bin文件，提示成功。出错的那个pvf最好就别用了，我是先备份正确的pvf，然后每次出错都重新换成那个pvf继续修改<br />\n2015-10-1 08:55回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 showphama :如果你确认添加的代码没有错误，格式内容都正确，那么就按照我说的多试几次，我也是试了不少次成功的。这种单纯数字的编辑其实用记事本就可以了，现在的pvf工具不是特别完善，出错也是正常的<br />\n&nbsp;<br />\nshowphama: 回复 轮回几多忆乌山 :大神，为什么时空之门有光圈了 但是进不去呢 我把任务已经删掉了呀<br />\n2015-10-2 14:53回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 showphama :town.LST修改了没有？还有把MAP的文件截图，我看看你有没有改错<br />\n2015-10-2 15:44回复<br />\n&nbsp;<br />\nshowphama: 回复 轮回几多忆乌山 :大神，你有没有QQ呀 私信我 我加你 你指导一下 行吗<br />\n2015-10-2 16:43回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 showphama :QQ我是有的，但是这些问题没必要，你截下图发出来就可以了<br />\n&nbsp;<br />\n虽然城镇开启了，但是我们依然无法到达这个城镇，所以应该研究怎样在城镇之间转换。<br />\n这里，我们联想到和城镇密切相关的map，事实上，在town文件里就已经涉及到了map，所以想到map是很自然的事。<br />\n打开map文件夹，找到shonan文件夹，再打开，看到shonan_gymnasium.map，打开，用同样的方法，删除<br />\n[need quest] 这段代码，OK<br />\n这样，已经可以实现到达时空之门这个城镇了<br />\n&nbsp;<br />\n但是，随之而来的问题是虽然我们可以去到那个城镇，但是我们并没有看到门。所以要自己添加，在animation下添加这段代码，表示门<br />\n&#39;Animation/timegate.ani&#39; &#39;[normal]&#39; 91 186 0 &#39;Animation/timegate.ani&#39; &#39;[normal]&#39; 2500 186 0<br />\n这里提一下，在添加代码时我们往往要在代码的末尾添加一个空格，表示段落之间的间隔，这样才不会出错，否则会有问题<br />\n&nbsp;<br />\n时空之门的城镇通过town和map的修改就可以了。<br />\n另外，town,lst里并没有时空之门和发电站，所以要手动添加上去<br />\n1 &#39;Elvengard.twn&#39;<br />\n2 &#39;HendonMyre.twn&#39;<br />\n3 &#39;WestCoast.twn&#39;<br />\n4 &#39;Alfhlyra.twn&#39;<br />\n5 &#39;StormPass.twn&#39;<br />\n6 &#39;Gent.twn&#39;<br />\n7 &#39;Warfare.twn&#39;<br />\n8 &#39;GuildAgit.twn&#39;<br />\n9 &#39;LuftHafen.twn&#39;<br />\n10 &#39;Fair_PVP.twn&#39;<br />\n11 &#39;Shonan.twn&#39;<br />\n12 &#39;timegate.twn&#39;<br />\n13 &#39;timegaterequiem.twn&#39;<br />\n14 &#39;slough.twn&#39;<br />\n&nbsp;<br />\n&nbsp;<br />\n收起回复举报|28楼2015-09-27 15:15<br />\n&nbsp;<br />\n轮回几多忆乌山: 发电站的twn文件也要修改下，道理同上<br />\n2015-9-27 16:26回复<br />\n&nbsp;<br />\n轮回几多忆乌山: timegaterequiem，就是镇魂前的那个地图，那里会有问题，我没时间研究测试了，所以不提<br />\n&nbsp;<br />\n发电站是通过NPC的传送功能实现，所以修改NPC，NPC的名字是wernvonnegut.npc，打开后找到<br />\n[role] 代码段，改成<br />\n[role]<br />\n&#39;[item shop]&#39; 43 &#39;[move town]&#39; 136<br />\n[/role]<br />\n这里讲解一下，ROLE代码表示NPC的功能，前面一个是物品店，后面是城镇间的移动<br />\n&nbsp;<br />\n&nbsp;<br />\n收起回复举报|29楼2015-09-27 15:18<br />\n&nbsp;<br />\n轮回几多忆乌山: 从这里我们可以联想到给NPC添加各种各样的功能。。。。。刚才的回复竟然被度娘删了。。。<br />\n2015-9-27 15:46回复<br />\n&nbsp;<br />\nkiss傻瓜水: 回复 轮回几多忆乌山 :<br />\n2015-9-27 16:40回复<br />\n&nbsp;<br />\n你的锅我来背丶: 改了有传送按钮，按了没进去，请问&#39;[move town]&#39; 136 136代表什么？<br />\n2015-9-28 00:17回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 你的锅我来背丶 :代表你要移动到的目标城镇的代码，136就是刚进入发电站的那个场景<br />\n2015-9-28 00:39回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 你的锅我来背丶 :进不去的先确定slough.twn的等级限制有没有改，还不行的话删掉我说的那个NPC文件里的[move town limit str] 这段代码<br />\n2015-9-28 00:42回复<br />\n&nbsp;<br />\n轮回几多忆乌山: 回复 你的锅我来背丶 :你要是还改不来，可以对照我发的修改文件，楼下有发</p>\n\n<p>&nbsp;</p>\n\n<p>&nbsp;</p>",
    "auth_users": "学院搬运工",
    "img": "https://dafstatic.oss-cn-beijing.aliyuncs.com/static/title/level4.gif",
    "create_at": "2023-05-08T21:37:37.137",
    "view_num": 1569
}