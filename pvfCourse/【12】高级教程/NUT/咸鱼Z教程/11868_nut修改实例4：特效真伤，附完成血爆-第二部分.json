{
    "content": "<ol>\n\t<li><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">百分比伤害</span></span></span></li>\n</ol>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">①</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">atk文件部分：</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">atk文件需要有图中语句，才能为百分比伤害。</span></span></span></p>\n\n<p style=\"text-align:justify\"><img alt=\"\" height=\"41\" src=\"/media/uploads/2023/07/23/image-20230723160430-1.png\" width=\"203\" /></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">②</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">nut部分：</span></span></span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">/</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">/</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">获取百分比伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">attack</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">BonusRate = obj.sq_GetBonusRateWithPassive(</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">技能编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">&nbsp;, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">主动技能</span><span style=\"font-family:等线\">state</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">动态数据编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, 1.0);</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">注：动态数据即为</span><span style=\"font-family:等线\">skl内的[</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">level info]</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">下的数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><img alt=\"\" height=\"340\" src=\"/media/uploads/2023/07/23/image-20230723160435-2.png\" width=\"540\" /></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">（动态数据编号只需要填一个编号）</span></span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//开始写入数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_StartWrite();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//写入百分比伤害数值 （格式代码必要流程）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_WriteDword(attackBonusRate);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//创建特效</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_SendCreatePassiveObjectPacket(24201, 0, 120, 1, 0); &nbsp;&nbsp;</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">（数字分别代表</span> <span style=\"font-family:等线\">特效</span> </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">&nbsp;X Y Z </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">轴坐标位置）</span></span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效</span><span style=\"font-family:等线\">nut部分：</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function setCustomData_po_</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效名称</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">(obj, <span style=\"color:#ffffff\"><span style=\"background-color:#e74c3c\">receiveData</span></span>) <span style=\"color:#2ecc71\">//<span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">R</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">eceive</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">D</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ata为上面写入的数据</span></span></span></span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return;</span></span></p>\n\n<p style=\"margin-left:52px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取写入的百分比伤害数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackBonusRate = receiveData.readDword();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取特效的atk文件</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackInfo = sq_GetCurrentAttackInfo(obj);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//atk设置百分比伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SetCurrentAttackBonusRate(attackInfo, attackBonusRate);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px; text-align:left\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">nut百分比伤害就是设置atk中的</span></span></span></p>\n\n<p style=\"margin-left:24px\"><img alt=\"\" height=\"40\" src=\"/media/uploads/2023/07/23/image-20230723160517-3.png\" width=\"157\" /></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<ol start=\"2\">\n\t<li><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">固定伤害</span></span></span></li>\n</ol>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">/</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">/</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">获取固伤数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">attack</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">Power = obj.sq_GetPowerWithPassive(</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">技能编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">主动技能</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">state, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">动态数据编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, -1, 1.0);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//开始写入数据 （格式代码必要流程）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_StartWrite();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//写入固伤伤害数值</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_WriteDword(attackP</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ower</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//创建特效</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_SendCreatePassiveObjectPacket(24201, 0, 120, 1, 0);</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效</span><span style=\"font-family:等线\">nut部分：</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function setCustomData_po_</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效名称</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">(obj, <span style=\"color:#ffffff\"><span style=\"background-color:#e74c3c\">receiveData</span></span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">) </span></span>&nbsp;<span style=\"color:#2ecc71\">//<span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">R</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">eceive</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">D</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ata为上面写入的数据</span></span></span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">（代表/</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">/</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">获取的百分比伤害</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\">&nbsp;<span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">attack</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">BonusRate</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">）</span></span></span></span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return;</span></span></p>\n\n<p style=\"margin-left:52px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取写入的固伤伤害数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackP</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ower</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">&nbsp;= receiveData.readDword();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取特效的atk文件</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackInfo = sq_GetCurrentAttackInfo(obj);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//atk设置固伤伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SetCurrentAttackBonusRate(attackInfo, attackP</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ower</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">nut设置固伤伤害就是设置atk中的</span></span></span></p>\n\n<p style=\"margin-left:24px\"><img alt=\"\" height=\"47\" src=\"/media/uploads/2023/07/23/image-20230723160656-4.png\" width=\"111\" /></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<ol start=\"3\">\n\t<li><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">百分比</span><span style=\"font-family:等线\">+固定伤害</span></span></span></li>\n</ol>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取百分比伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">attack</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">B</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">onus</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">R</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ate</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">&nbsp;= obj.sq_GetBonusRateWithPassive(</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">技能编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">&nbsp;, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">主动技能</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">state, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">动态数据编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, 1.0);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取固伤</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">attack</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">Power = obj.sq_GetPowerWithPassive(</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">技能编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">主动技能</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">state, </span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">动态数据编号</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, -1, 1.0);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//开始写入数据</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_StartWrite();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//写入百分比伤害数值（</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">receiveData</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">中的第一个数据）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_WriteDword(attackBonusRate);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//写入固伤数值（</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">receiveData</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">中的第二个数据）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_WriteDword(attackP</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ower</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//创建特效</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_SendCreatePassiveObjectPacket(24201, 0, 120, 1, 0);</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效</span><span style=\"font-family:等线\">nut部分：</span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function setCustomData_po_</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效名称</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">(obj, receiveData)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return;</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取百分比伤害数据（</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">receiveData</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">中的第一个数据）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackBonusRate = receiveData.readDword();</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取固伤数据（</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">receiveData</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">中的第二个数据）</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local power = receiveData.readDword();</span></span></p>\n\n<p style=\"margin-left:24px\">&nbsp;</p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取特效的atk文件</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackInfo = sq_GetCurrentAttackInfo(obj);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//atk设置百分比伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SetCurrentAttackBonusRate(attackInfo, attackBonusRate);</span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//atk设置固伤伤害</span></span></span></p>\n\n<p style=\"margin-left:24px\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SetCurrentAttackPower(attackInfo, power);</span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">附：血爆真伤</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">能挂载</span><span style=\"font-family:等线\">nut的特效编号要在24300到24400之间，所以首先要改一下血爆特效的编号（改编号不用重跑服务端）</span></span></span></span></span></p>\n\n<p style=\"text-align:center\"><img alt=\"\" height=\"48\" src=\"/media/uploads/2023/07/23/image-20230723160705-5.png\" width=\"554\" /></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">改完编号后，给特效挂载一个</span><span style=\"font-family:等线\">nut脚本，仍然是增加并注册一个脚本。</span></span></span></span></span></p>\n\n<p style=\"text-align:center\"><img alt=\"\" height=\"105\" src=\"/media/uploads/2023/07/23/image-20230723160710-6.png\" width=\"554\" /></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">然后就是完成脚本，参考写法如下：</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">人物脚本修改：</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function onKeyFrameFlag_BloodBoom(obj,flagIndex)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return false;</span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if (flagIndex == 10001)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_SendCreatePassiveObjectPacket(</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">2020011001</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">, 0, 0, 0, 0); &nbsp;</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">（创建编号</span><span style=\"font-family:等线\">2</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">020011001</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">的特效）</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取固伤数据</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local power = obj.sq_GetPowerWithPassive(SKILL_BLOOD_BOOM, STATE_BLOOD_BOOM, 0, -1, 1.0);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local z = obj.getObjectHeight()/2;</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//开始写入数据</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_StartWrite();</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//写入固伤数值</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_WriteDword(power);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//创建特效</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">obj.sq_SendCreatePassiveObjectPacket(24358, 0, 0, 0, z);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return true;</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">特效脚本部分：</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//凡是写入了数据的特效（要求编号在24300到24400），均会执行此函数</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function setCustomData_po_<span style=\"color:#ffffff\"><span style=\"background-color:#e74c3c\">bloodboomfinish</span></span>(obj, receiveData)<span style=\"font-size:12px\"><span style=\"color:#2ecc71\">//</span></span></span><span style=\"font-size:12px\"><span style=\"color:#2ecc71\"><span style=\"font-family:宋体\"><span style=\"font-family:宋体\">此后缀名为特效的名称，注意大小写要一致</span></span></span></span></span></span></span><img alt=\"\" height=\"32\" src=\"/media/uploads/2023/07/23/image-20230723160746-7.png\" width=\"173\" /></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return;</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取固伤数值</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local damage = receiveData.readDword();</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//获取特效atk</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">local attackInfo = sq_GetCurrentAttackInfo(obj);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//设置固伤</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SetCurrentAttackPower(attackInfo, damage);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">function <span style=\"color:#ffffff\"><span style=\"background-color:#e74c3c\">onEndCurrentAni</span></span>_po_bloodboomfinish(obj)<span style=\"color:#2ecc71\">//<span style=\"font-family:等线\">同人物的</span><span style=\"font-family:等线\">on</span></span></span></span><span style=\"color:#2ecc71\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">E</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">nd</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">C</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">urrent</span></span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">A</span></span><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">ni函数一样，特效的这个函数也是在特效动画结束时执行</span></span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">{</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">if(!obj)</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">return;</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\"><span style=\"font-family:等线\">//特效动画结束时销毁特效</span></span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">sq_SendDestroyPacketPassiveObject(obj);</span></span></span></span></p>\n\n<p style=\"text-align:justify\"><span style=\"font-size:10.5pt\"><span style=\"font-family:等线\"><span style=\"font-size:10.5000pt\"><span style=\"font-family:等线\">}</span></span></span></span></p>\n\n<p style=\"text-align:justify\">&nbsp;</p>\n",
    "auth_users": "学院搬运工",
    "img": "https://dafstatic.oss-cn-beijing.aliyuncs.com/static/title/level4.gif",
    "create_at": "2023-07-23T16:09:07.873",
    "view_num": 489
}